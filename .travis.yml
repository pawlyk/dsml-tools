language: python
sudo: required

python:
  - '3.5'
  - '3.6'
  - '3.7-dev'
# Enable 3.7, temporal work around
matrix:
  include:
  - python: '3.7'
    dist: xenial
    sudo: true
    
matrix:
  include:
    - python: 3.6    
    - python: 3.7-dev
    - python: 3.7
      dist: xenial
      sudo: true
    - python: 3.8-dev
      dist: xenial
      sudo: true

install:
  - pip install --upgrade setuptools
  - pip install codecov
  - pip install -r requirements-dev.txt
  - pip install -vv -Ue .

script:
  make cov-report
after_success:
  codecov
